<div *ngIf="test!=null; else elseBlock">
  <div [style.display]="!hasSent ? 'block' : 'none'">
    <div class="info">
      <div class="flex">
        <input [(ngModel)]="test.name" class="form-control" placeholder="Title" maxlength="50">
        <input [(ngModel)]="test.programmingLang" class="form-control ms-5" placeholder="Language" maxlength="50">
        <a (click)="deleteTest()" *ngIf="testId!=null" class="button">‚ùå</a>
      </div>
      <div class="d-flex justify-content-around mb-3">
        <div>
          <p class="d-inline me-2">Type:</p>
          <select class="form-select type-select d-inline" (change)="testTypeChanged($event)">
            <option value="WITH_BANK" [selected]="test.testType=='WITH_BANK'">With question bank</option>
            <option value="WITH_QUESTION_OPTIONS" [selected]="test.testType!='WITH_BANK'">With question options
            </option>
          </select>
        </div>
        <div>
          <p class="d-inline me-2">Question count for students:</p>
          <input [(ngModel)]="test.questionsCount" class="form-control count-inp d-inline" type="number" min="1"
                 max="50">
        </div>
        <div>
          <p class="d-inline me-2">Passing score:</p>
          <input [(ngModel)]="test.passingScore" class="form-control count-inp d-inline" type="number" min="1"
                 max="100">
          <p class="d-inline ms-1">%</p>
        </div>
      </div>
    </div>
    <div>
      <app-editor-question
        *ngFor="let iterQuestion of test.questions; index as i"
        [index]="i"
        [question]="iterQuestion"
        [test]="test"
      ></app-editor-question>
    </div>
    <div class="text-center mb-4 mt-0">
      <a (click)="newQuestion()" class="button ms-0">+</a>
    </div>
    <div class="text-center">
      <button (click)="goToTestsPage()" class="btn btn-primary m-1">Cancel</button>
      <button (click)="submit()" class="btn btn-primary m-1">Submit</button>
    </div>
  </div>
</div>
<app-loading [style.display]="hasSent ? 'block' : 'none'" [text]="'Waiting for response...'"></app-loading>
<ng-template #elseBlock>
  <app-loading [text]="'Loading...'"></app-loading>
</ng-template>
